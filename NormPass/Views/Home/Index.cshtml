@model PasswordGen

<div class="container">
    <h2>Password Generator</h2>
    <form id="passwordForm">
        
        <div class="form-group">
            <label asp-for="Length"></label>
            <input type="number" class="form-control" id="length" value="12" min="6" max="20" required />
        </div>
        <div class="form-group">
            <label>
                <label asp-for="IncludeUpperCase"></label>
                <input type="checkbox" id="includeUppercase" checked /> Include Uppercase Letters
            </label>
        </div>
        <div class="form-group">
            <label>
                <label asp-for="IncludeLowerCase"></label>
                <input type="checkbox" id="includeLowercase" checked /> Include Lowercase Letters
            </label>
        </div>
        <div class="form-group">
            <label>
                <label asp-for="IncludeNumbers"></label>
                <input type="checkbox" id="includeNumbers" checked /> Include Numbers
            </label>
        </div>
        <div class="form-group">
            <label>
                <label asp-for="IncludeSymbols"></label>
                <input type="checkbox" id="includeSymbols" checked /> Include Symbols
            </label>
        </div>
        <button type="button" class="btn btn-primary" onclick="Password()">Generate Password</button>
    </form>

    <div class="result">
        <label>Generated Password:</label>
        <div id="generatedPassword" class="alert alert-info"></div>
    </div>
</div>

@section Scripts {
    <script>
        function Password() {
            const passwordRequest = {
                length: document.getElementById("length").value,
                includeUppercase: document.getElementById("includeUppercase").checked,
                includeLowercase: document.getElementById("includeLowercase").checked,
                includeNumbers: document.getElementById("includeNumbers").checked,
                includeSymbols: document.getElementById("includeSymbols").checked
            };

            $.ajax({
                url: "/Password/GeneratePassword",
                type: "POST",
                contentType: "application/json",
                data: JSON.stringify(passwordRequest),
                success: function (data) {
                    document.getElementById("generatedPassword").textContent = data.password;
                },
                error: function (error) {
                    console.error("Error:", error);
                    document.getElementById("generatedPassword").textContent = "Error generating password.";
                }
            });
        }
    </script>
}
